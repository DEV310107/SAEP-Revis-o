<!DOCTYPE html>
<!-- 
    SISTEMA DE AUTOPE√áAS - P√ÅGINA DE CADASTRO E GERENCIAMENTO
    
    Este arquivo HTML cont√©m a interface para cadastro e gerenciamento de autope√ßas.
    Utiliza Flask como backend (framework web Python) com Jinja2 para templates.
    
    FUNCIONALIDADES PRINCIPAIS:
    1. Cadastro de novas autope√ßas
    2. Busca e filtro de pe√ßas
    3. Listagem com status de estoque
    4. Opera√ß√µes CRUD (Criar, Ler, Atualizar, Deletar)
    
    DEPEND√äNCIAS:
    - Flask (backend Python)
    - Banco de dados MySQL com tabela de autope√ßas
    - Jinja2 (sistema de templates integrado ao Flask)
-->
<html lang="pt-BR">
<head>
    <!-- Meta tags essenciais para o funcionamento correto da p√°gina -->
    <meta charset="UTF-8"> <!-- Define codifica√ß√£o de caracteres para suporte a acentos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsividade em dispositivos m√≥veis -->
    <title>Cadastro de Autope√ßas - Sistema de Autope√ßas</title>
    
    <!-- 
        ESTILOS CSS INTEGRADOS
        
        Por que usar CSS interno ao inv√©s de arquivo separado?
        - Simplifica o projeto (menos arquivos)
        - Carregamento mais r√°pido (uma requisi√ß√£o HTTP a menos)
        - Facilita manuten√ß√£o para projetos pequenos/m√©dios
    -->
    <style>
        /* 
            RESET CSS GLOBAL
            
            O seletor * aplica estilos a TODOS os elementos da p√°gina.
            Necess√°rio para garantir consist√™ncia visual entre diferentes navegadores.
        */
        * {
            margin: 0;          /* Remove margens padr√£o do navegador */
            padding: 0;         /* Remove espa√ßamentos internos padr√£o */
            box-sizing: border-box; /* Inclui padding e border no c√°lculo da largura total */
        }

        /* 
            ESTILIZA√á√ÉO DO CORPO DA P√ÅGINA
            
            Define a apar√™ncia base de toda a p√°gina.
        */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fontes modernas e leg√≠veis */
            background-color: #f5f7fa;  /* Cor de fundo suave (cinza muito claro) */
            min-height: 100vh;          /* Garante altura m√≠nima de 100% da tela */
        }

        /* 
            CABE√áALHO DA P√ÅGINA
            
            Cont√©m o t√≠tulo do sistema e links de navega√ß√£o.
            Utiliza Flexbox para layout responsivo.
        */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Gradiente roxo/azul */
            color: white;                    /* Texto branco para contraste */
            padding: 1rem 2rem;             /* Espa√ßamento interno (16px 32px) */
            display: flex;                   /* Layout flex√≠vel */
            justify-content: space-between; /* Distribui espa√ßo entre t√≠tulo e navega√ß√£o */
            align-items: center;            /* Alinha verticalmente ao centro */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); /* Sombra sutil para profundidade */
        }

        /* T√≠tulo principal do cabe√ßalho */
        .header h1 {
            font-size: 1.5rem; /* 24px - tamanho adequado para t√≠tulos */
        }

        /* 
            CONTAINER DOS LINKS DE NAVEGA√á√ÉO
            
            Organiza os bot√µes de navega√ß√£o horizontalmente.
        */
        .nav-links {
            display: flex;      /* Layout horizontal */
            gap: 1rem;         /* Espa√ßo de 16px entre cada link */
            align-items: center; /* Alinhamento vertical */
        }

        /* 
            ESTILIZA√á√ÉO DOS LINKS DE NAVEGA√á√ÉO
            
            Cada bot√£o individual do menu (Dashboard, Estoque, Sair).
        */
        .nav-link {
            color: white;                           /* Cor do texto */
            text-decoration: none;                  /* Remove sublinhado padr√£o */
            padding: 0.5rem 1rem;                 /* Espa√ßamento interno (8px 16px) */
            border-radius: 5px;                    /* Bordas arredondadas */
            background: rgba(255,255,255,0.2);     /* Fundo semi-transparente */
            transition: background-color 0.3s;     /* Anima√ß√£o suave na mudan√ßa de cor */
        }

        /* Efeito hover (quando mouse passa por cima) */
        .nav-link:hover {
            background: rgba(255,255,255,0.3); /* Fundo mais claro no hover */
        }

        /* 
            CONTAINER PRINCIPAL DO CONTE√öDO
            
            Centraliza todo o conte√∫do da p√°gina com largura m√°xima controlada.
            Essencial para manter a legibilidade em telas grandes.
        */
        .container {
            max-width: 1200px;    /* Largura m√°xima de 1200px */
            margin: 2rem auto;    /* Centraliza horizontalmente com margem de 32px no topo/baixo */
            padding: 0 2rem;     /* Espa√ßamento lateral de 32px */
        }

        /* 
            SE√á√ÉO DE T√çTULO DA P√ÅGINA
            
            Apresenta o nome da funcionalidade e descri√ß√£o.
            Primeiro elemento visual ap√≥s o cabe√ßalho.
        */
        .page-title {
            background: white;                          /* Fundo branco para destaque */
            padding: 2rem;                             /* Espa√ßamento interno generoso */
            border-radius: 10px;                       /* Bordas arredondadas modernas */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);   /* Sombra sutil para profundidade */
            margin-bottom: 2rem;                       /* Espa√ßo antes do pr√≥ximo elemento */
        }

        /* T√≠tulo secund√°rio dentro da se√ß√£o */
        .page-title h2 {
            color: #333;              /* Cor escura para boa legibilidade */
            margin-bottom: 0.5rem;    /* Pequeno espa√ßo antes da descri√ß√£o */
        }

        /* 
            SE√á√ÉO DO FORMUL√ÅRIO DE CADASTRO
            
            Container para o formul√°rio de adi√ß√£o de novas autope√ßas.
            Agrupa todos os campos de entrada de dados.
        */
        .form-section {
            background: white;                          /* Fundo branco para destaque */
            padding: 2rem;                             /* Espa√ßamento interno confort√°vel */
            border-radius: 10px;                       /* Bordas arredondadas */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);   /* Sombra para separa√ß√£o visual */
            margin-bottom: 2rem;                       /* Espa√ßo antes do pr√≥ximo elemento */
        }

        /* 
            T√çTULO DA SE√á√ÉO DO FORMUL√ÅRIO
            
            Identifica a funcionalidade da se√ß√£o com linha decorativa.
        */
        .form-section h3 {
            color: #333;                            /* Cor escura para legibilidade */
            margin-bottom: 1.5rem;                 /* Espa√ßo antes dos campos */
            border-bottom: 2px solid #667eea;      /* Linha decorativa colorida */
            padding-bottom: 0.5rem;                /* Espa√ßo entre texto e linha */
        }

        /* 
            GRID RESPONSIVO PARA CAMPOS DO FORMUL√ÅRIO
            
            Organiza os campos em colunas que se adaptam ao tamanho da tela.
            - Em telas grandes: m√∫ltiplas colunas
            - Em telas pequenas: uma coluna
        */
        .form-grid {
            display: grid;                                              /* Layout em grade */
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Colunas responsivas */
            gap: 1rem;                                                  /* Espa√ßo entre campos */
            margin-bottom: 1.5rem;                                     /* Espa√ßo antes do bot√£o */
        }

        /* 
            GRUPO DE CAMPO (LABEL + INPUT)
            
            Cada campo do formul√°rio √© envolvido por esta classe.
        */
        .form-group {
            margin-bottom: 1rem; /* Espa√ßo entre grupos de campos */
        }

        /* 
            R√ìTULOS DOS CAMPOS (LABELS)
            
            Texto que identifica cada campo de entrada.
        */
        .form-group label {
            display: block;         /* Ocupa linha inteira */
            margin-bottom: 0.5rem;  /* Espa√ßo antes do campo */
            color: #333;           /* Cor escura para legibilidade */
            font-weight: 500;      /* Peso m√©dio para destaque */
        }

        /* 
            CAMPOS DE ENTRADA (INPUTS E TEXTAREAS)
            
            Estiliza√ß√£o padr√£o para todos os campos de texto e n√∫meros.
        */
        .form-group input, .form-group textarea {
            width: 100%;                        /* Ocupa largura total dispon√≠vel */
            padding: 10px;                      /* Espa√ßamento interno confort√°vel */
            border: 2px solid #e1e1e1;        /* Borda cinza clara */
            border-radius: 5px;                /* Bordas levemente arredondadas */
            font-size: 14px;                   /* Tamanho de fonte leg√≠vel */
            transition: border-color 0.3s;     /* Anima√ß√£o suave na mudan√ßa de cor */
        }

        /* 
            ESTADO DE FOCO DOS CAMPOS
            
            Quando o usu√°rio clica/seleciona um campo.
        */
        .form-group input:focus, .form-group textarea:focus {
            outline: none;              /* Remove contorno padr√£o do navegador */
            border-color: #667eea;      /* Muda cor da borda para azul */
        }

        /* 
            CUSTOMIZA√á√ÉO ESPEC√çFICA PARA TEXTAREA
            
            Campos de texto longo (como descri√ß√£o).
        */
        .form-group textarea {
            resize: vertical;       /* Permite redimensionar apenas verticalmente */
            min-height: 80px;      /* Altura m√≠nima para facilitar digita√ß√£o */
        }

        /* 
            BOT√ÉO PADR√ÉO DO SISTEMA
            
            Estiliza√ß√£o base para todos os bot√µes principais.
            Utiliza gradiente para visual moderno e atrativo.
        */
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Gradiente azul-roxo */
            color: white;               /* Texto branco para contraste */
            padding: 10px 20px;        /* Espa√ßamento interno (altura/largura) */
            border: none;              /* Remove borda padr√£o */
            border-radius: 5px;        /* Bordas arredondadas */
            cursor: pointer;           /* Cursor de m√£o ao passar por cima */
            font-weight: 500;          /* Peso m√©dio da fonte */
            transition: transform 0.2s; /* Anima√ß√£o suave para efeitos */
        }

        /* 
            EFEITO HOVER DO BOT√ÉO
            
            Eleva o bot√£o quando o mouse passa por cima.
            Cria sensa√ß√£o de "bot√£o f√≠sico" sendo pressionado.
        */
        .btn:hover {
            transform: translateY(-2px); /* Move 2px para cima */
        }

        /* 
            SE√á√ÉO DE BUSCA/PESQUISA
            
            Container para o campo de busca de autope√ßas.
            Design diferenciado para chamar aten√ß√£o do usu√°rio.
        */
        .search-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); /* Gradiente cinza suave */
            padding: 2rem;                                  /* Espa√ßamento interno generoso */
            border-radius: 15px;                           /* Bordas mais arredondadas que outros elementos */
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);      /* Sombra mais pronunciada */
            margin-bottom: 2rem;                           /* Espa√ßo antes da tabela */
            border: 1px solid rgba(102, 126, 234, 0.1);   /* Borda sutil na cor do tema */
        }

        /* 
            FORMUL√ÅRIO DE BUSCA
            
            Layout flex√≠vel que se adapta a diferentes tamanhos de tela.
        */
        .search-form {
            display: flex;          /* Layout horizontal */
            gap: 1rem;             /* Espa√ßo entre elementos */
            align-items: end;      /* Alinha pela base (importante para bot√µes) */
            flex-wrap: wrap;       /* Permite quebra de linha em telas pequenas */
        }

        /* 
            CONTAINER DO CAMPO DE BUSCA
            
            Posicionamento relativo necess√°rio para o √≠cone posicionado absolutamente.
        */
        .search-input {
            flex: 1;                /* Ocupa espa√ßo restante dispon√≠vel */
            min-width: 250px;       /* Largura m√≠nima para manter usabilidade */
            position: relative;     /* Permite posicionamento absoluto do √≠cone */
        }

        /* 
            R√ìTULO DO CAMPO DE BUSCA
        */
        .search-input label {
            font-weight: 600;          /* Negrito para destaque */
            color: #495057;           /* Cinza escuro */
            margin-bottom: 0.75rem;   /* Espa√ßo antes do campo */
            display: block;           /* Ocupa linha inteira */
            font-size: 0.95rem;       /* Ligeiramente menor que o padr√£o */
        }

        /* 
            CAMPO DE ENTRADA DA BUSCA
            
            Design moderno com bordas arredondadas e espa√ßo para √≠cone.
        */
        .search-input input {
            width: 100%;                            /* Largura total dispon√≠vel */
            padding: 12px 20px 12px 45px;         /* Padding maior √† esquerda para o √≠cone */
            border: 2px solid #dee2e6;            /* Borda cinza clara */
            border-radius: 25px;                  /* Bordas muito arredondadas (formato "pill") */
            font-size: 15px;                      /* Fonte ligeiramente maior */
            transition: all 0.3s ease;            /* Transi√ß√µes suaves */
            background: white;                    /* Fundo branco */
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* Sombra sutil */
        }

        /* 
            ESTADO DE FOCO DO CAMPO DE BUSCA
            
            Efeitos visuais quando o usu√°rio clica no campo.
        */
        .search-input input:focus {
            outline: none;                                      /* Remove contorno padr√£o */
            border-color: #667eea;                             /* Muda cor da borda */
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);   /* Adiciona halo colorido */
            transform: translateY(-1px);                        /* Eleva ligeiramente o campo */
        }

        /* 
            √çCONE DE BUSCA
            
            Pseudo-elemento para adicionar √≠cone sem HTML extra.
            ::before cria um elemento virtual antes do conte√∫do.
        */
        .search-input::before {
            content: "üîç";          /* Emoji de lupa */
            position: absolute;     /* Posicionamento absoluto dentro do container relativo */
            left: 15px;            /* 15px da borda esquerda */
            bottom: 12px;          /* 12px da borda inferior */
            font-size: 16px;       /* Tamanho do √≠cone */
            color: #6c757d;        /* Cor cinza m√©dia */
        }

        /* 
            CONTAINER DOS BOT√ïES DE BUSCA
            
            Agrupa bot√µes "Buscar" e "Limpar" lado a lado.
        */
        .search-buttons {
            display: flex;          /* Layout horizontal */
            gap: 0.5rem;           /* Pequeno espa√ßo entre bot√µes */
            align-items: end;      /* Alinha pela base com o campo de busca */
        }

        /* 
            BOT√ÉO DE BUSCAR
            
            Bot√£o principal para executar a pesquisa.
            Design moderno com gradiente e efeitos visuais.
        */
        .btn-search {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Gradiente azul-roxo */
            color: white;                           /* Texto branco */
            padding: 12px 24px;                    /* Padding maior para destaque */
            border: none;                          /* Remove borda padr√£o */
            border-radius: 25px;                   /* Bordas arredondadas (formato pill) */
            cursor: pointer;                       /* Cursor de m√£o */
            font-weight: 600;                      /* Negrito */
            transition: all 0.3s ease;             /* Transi√ß√µes suaves */
            font-size: 14px;                       /* Tamanho da fonte */
            display: flex;                         /* Layout flex√≠vel para texto + √≠cone */
            align-items: center;                   /* Centraliza verticalmente */
            gap: 8px;                             /* Espa√ßo entre texto e √≠cone */
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); /* Sombra colorida */
        }

        /* 
            EFEITO HOVER DO BOT√ÉO BUSCAR
            
            Anima√ß√£o quando mouse passa por cima.
        */
        .btn-search:hover {
            transform: translateY(-2px);                        /* Move para cima */
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);  /* Sombra mais intensa */
        }

        /* 
            BOT√ÉO DE LIMPAR BUSCA
            
            Bot√£o secund√°rio para resetar a pesquisa.
            Cor diferente (cinza) para indicar a√ß√£o secund√°ria.
        */
        .btn-clear {
            background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%); /* Gradiente cinza */
            color: white;                           /* Texto branco */
            padding: 12px 20px;                    /* Padding ligeiramente menor */
            border: none;                          /* Remove borda */
            border-radius: 25px;                   /* Bordas arredondadas */
            cursor: pointer;                       /* Cursor de m√£o */
            font-weight: 600;                      /* Negrito */
            transition: all 0.3s ease;             /* Transi√ß√µes suaves */
            font-size: 14px;                       /* Tamanho da fonte */
            text-decoration: none;                 /* Remove sublinhado (√© um link <a>) */
            display: flex;                         /* Layout flex√≠vel */
            align-items: center;                   /* Centraliza verticalmente */
            gap: 8px;                             /* Espa√ßo entre texto e √≠cone */
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3); /* Sombra cinza */
        }

        /* 
            EFEITO HOVER DO BOT√ÉO LIMPAR
        */
        .btn-clear:hover {
            transform: translateY(-2px);                        /* Move para cima */
            box-shadow: 0 6px 20px rgba(108, 117, 125, 0.4);  /* Sombra mais intensa */
            color: white;                                       /* Mant√©m cor do texto */
            text-decoration: none;                              /* Evita sublinhado no hover */
        }

        /* 
            SE√á√ÉO DA TABELA DE DADOS
            
            Container principal para exibi√ß√£o da lista de autope√ßas.
            Usa overflow: hidden para bordas arredondadas funcionarem corretamente.
        */
        .table-section {
            background: white;                          /* Fundo branco */
            border-radius: 10px;                       /* Bordas arredondadas */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);   /* Sombra para profundidade */
            overflow: hidden;                          /* Necess√°rio para bordas arredondadas na tabela */
        }

        /* 
            CABE√áALHO DA TABELA
            
            √Årea superior com t√≠tulo e informa√ß√µes da listagem.
        */
        .table-header {
            background: #667eea;    /* Cor do tema principal */
            color: white;           /* Texto branco */
            padding: 1rem 2rem;     /* Espa√ßamento interno */
        }

        /* 
            TABELA DE DADOS
            
            Estrutura principal para exibir os dados das autope√ßas.
            border-collapse: collapse remove espa√ßos entre c√©lulas.
        */
        .table {
            width: 100%;               /* Ocupa largura total dispon√≠vel */
            border-collapse: collapse; /* Remove espa√ßos entre bordas das c√©lulas */
        }

        /* 
            C√âLULAS DA TABELA (CABE√áALHO E DADOS)
            
            Estiliza√ß√£o comum para todas as c√©lulas.
        */
        .table th, .table td {
            padding: 12px;                      /* Espa√ßamento interno das c√©lulas */
            text-align: left;                   /* Alinhamento √† esquerda */
            border-bottom: 1px solid #ddd;      /* Linha divis√≥ria entre linhas */
        }

        /* 
            CABE√áALHO DA TABELA (TH)
            
            Diferencia√ß√£o visual para os t√≠tulos das colunas.
        */
        .table th {
            background-color: #f8f9fa;  /* Fundo cinza claro */
            color: #333;               /* Texto escuro */
            font-weight: 600;          /* Negrito para destaque */
        }

        /* 
            EFEITO HOVER NAS LINHAS
            
            Destaca linha quando mouse passa por cima.
            Melhora a experi√™ncia de leitura em tabelas grandes.
        */
        .table tr:hover {
            background-color: #f8f9fa; /* Fundo cinza claro no hover */
        }

        /* 
            CONTAINER DOS BOT√ïES DE A√á√ÉO
            
            Agrupa bot√µes "Editar" e "Excluir" na √∫ltima coluna da tabela.
        */
        .action-buttons {
            display: flex;      /* Layout horizontal */
            gap: 0.5rem;       /* Pequeno espa√ßo entre bot√µes */
        }

        /* 
            BOT√ïES PEQUENOS
            
            Vers√£o reduzida dos bot√µes para usar dentro da tabela.
        */
        .btn-sm {
            padding: 5px 10px;  /* Padding reduzido */
            font-size: 12px;    /* Fonte menor */
        }

        /* 
            BOT√ÉO DE EDITAR
            
            Cor verde para indicar a√ß√£o de edi√ß√£o/modifica√ß√£o.
        */
        .btn-edit {
            background: #28a745; /* Verde Bootstrap */
        }

        /* 
            BOT√ÉO DE EXCLUIR
            
            Cor vermelha para indicar a√ß√£o perigosa/destrutiva.
        */
        .btn-delete {
            background: #dc3545; /* Vermelho Bootstrap */
        }

        /* 
            EFEITO HOVER DOS BOT√ïES DE A√á√ÉO
            
            Reduz opacidade em vez de movimento para bot√µes pequenos.
        */
        .btn-edit:hover, .btn-delete:hover {
            opacity: 0.8; /* Fica ligeiramente transparente */
        }

        /* 
            ALERTAS DO SISTEMA
            
            Mensagens de feedback para o usu√°rio (sucesso, erro, etc.).
            Usados pelo sistema Flask para flash messages.
        */
        .alert {
            padding: 1rem;          /* Espa√ßamento interno */
            margin-bottom: 1rem;    /* Espa√ßo antes do pr√≥ximo elemento */
            border-radius: 5px;     /* Bordas arredondadas */
        }

        /* 
            ALERTA DE SUCESSO
            
            Mensagem verde para opera√ß√µes bem-sucedidas.
            Cores baseadas no padr√£o Bootstrap.
        */
        .alert-success {
            background-color: #d4edda;  /* Fundo verde claro */
            color: #155724;            /* Texto verde escuro */
            border: 1px solid #c3e6cb;  /* Borda verde m√©dia */
        }

        /* 
            ALERTA DE ERRO
            
            Mensagem vermelha para erros e falhas.
        */
        .alert-error {
            background-color: #f8d7da;  /* Fundo vermelho claro */
            color: #721c24;            /* Texto vermelho escuro */
            border: 1px solid #f5c6cb;  /* Borda vermelha m√©dia */
        }

        /* 
            ESTADO VAZIO
            
            Exibido quando n√£o h√° dados para mostrar.
            Centralizado com texto explicativo para o usu√°rio.
        */
        .empty-state {
            text-align: center; /* Centraliza o texto */
            padding: 3rem;      /* Espa√ßamento generoso */
            color: #666;        /* Cor neutra/discreta */
        }

        /* 
            RESPONSIVIDADE - DISPOSITIVOS M√ìVEIS
            
            Media query para telas menores que 768px (tablets e celulares).
            Adapta o layout para melhor experi√™ncia em dispositivos m√≥veis.
            
            Por que 768px? √â um breakpoint padr√£o da ind√∫stria:
            - Tablets em modo retrato: ~768px
            - Smartphones: geralmente < 768px
        */
        @media (max-width: 768px) {
            /* 
                CABE√áALHO RESPONSIVO
                
                Muda de layout horizontal para vertical em telas pequenas.
            */
            .header {
                flex-direction: column; /* Empilha t√≠tulo e navega√ß√£o verticalmente */
                gap: 1rem;             /* Espa√ßo entre t√≠tulo e links */
            }

            /* 
                CONTAINER PRINCIPAL RESPONSIVO
                
                Reduz padding lateral para aproveitar melhor o espa√ßo limitado.
            */
            .container {
                padding: 0 1rem; /* Padding menor nas laterais */
            }

            /* 
                FORMUL√ÅRIO DE BUSCA RESPONSIVO
                
                Muda para layout vertical empilhando campo e bot√µes.
            */
            .search-form {
                flex-direction: column; /* Empilha elementos verticalmente */
                align-items: stretch;   /* Estica elementos para ocupar largura total */
            }

            /* 
                CAMPO DE BUSCA RESPONSIVO
            */
            .search-input {
                min-width: auto;        /* Remove largura m√≠nima */
                margin-bottom: 1rem;    /* Espa√ßo antes dos bot√µes */
            }

            /* 
                BOT√ïES DE BUSCA RESPONSIVOS
                
                Centraliza os bot√µes na tela.
            */
            .search-buttons {
                justify-content: center; /* Centraliza bot√µes horizontalmente */
            }

            /* 
                TAMANHO DOS BOT√ïES EM MOBILE
                
                Bot√µes ocupam espa√ßo igual mas com largura m√°xima controlada.
            */
            .btn-search, .btn-clear {
                flex: 1;            /* Ocupa espa√ßo dispon√≠vel igualmente */
                max-width: 150px;   /* N√£o fica muito largo */
            }

            /* 
                TABELA RESPONSIVA
                
                Fonte menor para caber mais conte√∫do na tela pequena.
            */
            .table {
                font-size: 12px; /* Fonte reduzida */
            }

            /* 
                BOT√ïES DE A√á√ÉO RESPONSIVOS
                
                Empilha bot√µes "Editar" e "Excluir" verticalmente.
            */
            .action-buttons {
                flex-direction: column; /* Bot√µes em coluna */
            }
        }
    </style>
</head>
<body>
    <!-- 
        CABE√áALHO DA APLICA√á√ÉO
        
        Cont√©m o t√≠tulo da p√°gina atual e links de navega√ß√£o.
        Utiliza sintaxe Jinja2 (url_for com endpoint) para gerar URLs din√¢micas.
        
        url_for() √© uma fun√ß√£o do Flask que gera URLs baseadas no nome das rotas,
        garantindo que os links funcionem mesmo se as URLs mudarem.
    -->
    <header class="header">
        <h1>üîß Cadastro de Autope√ßas</h1>
        <div class="nav-links">
            <!-- Links de navega√ß√£o com rotas Flask -->
            <a href="{{ url_for('dashboard') }}" class="nav-link">Dashboard</a>
            <a href="{{ url_for('estoque') }}" class="nav-link">Estoque</a>
            <a href="{{ url_for('logout') }}" class="nav-link">Sair</a>
        </div>
    </header>

    <!-- CONTAINER PRINCIPAL DO CONTE√öDO -->
    <div class="container">
        <!-- 
            SISTEMA DE MENSAGENS FLASH
            
            Exibe mensagens tempor√°rias do sistema (sucesso, erro, etc.).
            
            Como funciona:
            1. get_flashed_messages() busca mensagens armazenadas na sess√£o
            2. with_categories=true inclui a categoria da mensagem (success, error)
            3. Loop Jinja2 exibe cada mensagem com sua respectiva classe CSS
            4. As mensagens s√£o automaticamente removidas ap√≥s serem exibidas
        -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- 
            T√çTULO E DESCRI√á√ÉO DA P√ÅGINA
            
            Apresenta o prop√≥sito da p√°gina ao usu√°rio.
        -->
        <div class="page-title">
            <h2>Gerenciamento de Autope√ßas</h2>
            <p>Cadastre, edite e gerencie as autope√ßas do seu sistema.</p>
        </div>

        <!-- 
            FORMUL√ÅRIO DE CADASTRO DE AUTOPE√áAS
            
            Permite ao usu√°rio adicionar novas autope√ßas ao sistema.
            
            Estrutura:
            - method="POST": Envia dados via POST (seguro para dados sens√≠veis)
            - action="{{ url_for('add_autopeca') }}": URL da rota Flask que processar√° o formul√°rio
            - form-grid: Layout em grade responsiva para os campos
            - Valida√ß√µes HTML5: required, min, step, type="number"
        -->
        <div class="form-section">
            <h3>‚ûï Adicionar Nova Autope√ßa</h3>
            <form method="POST" action="{{ url_for('add_autopeca') }}">
                <!-- 
                    GRID DE CAMPOS PRINCIPAIS
                    
                    Organiza campos em colunas responsivas.
                    Em telas grandes: 2-3 colunas
                    Em telas pequenas: 1 coluna
                -->
                <div class="form-grid">
                    <!-- CAMPO: Nome da Pe√ßa -->
                    <div class="form-group">
                        <label for="nome_peca">Nome da Pe√ßa *</label>
                        <input type="text" id="nome_peca" name="nome_peca" required>
                        <!-- 
                            required: Campo obrigat√≥rio (valida√ß√£o HTML5)
                            name: Nome do campo enviado ao servidor
                            id: Para associa√ß√£o com o label (acessibilidade)
                        -->
                    </div>
                    
                    <!-- CAMPO: N√∫mero de S√©rie -->
                    <div class="form-group">
                        <label for="num_serie">N√∫mero de S√©rie *</label>
                        <input type="text" id="num_serie" name="num_serie" required>
                    </div>
                    
                    <!-- CAMPO: Estoque Atual -->
                    <div class="form-group">
                        <label for="estoque">Estoque Atual *</label>
                        <input type="number" id="estoque" name="estoque" min="0" required>
                        <!-- 
                            type="number": Apenas n√∫meros permitidos
                            min="0": Valor m√≠nimo zero (estoque n√£o pode ser negativo)
                        -->
                    </div>
                    
                    <!-- CAMPO: Estoque M√≠nimo -->
                    <div class="form-group">
                        <label for="estoque_minimo">Estoque M√≠nimo *</label>
                        <input type="number" id="estoque_minimo" name="estoque_minimo" min="0" required>
                    </div>
                    
                    <!-- CAMPO: Pre√ßo -->
                    <div class="form-group">
                        <label for="preco">Pre√ßo (R$) *</label>
                        <input type="number" id="preco" name="preco" step="0.01" min="0" required>
                        <!-- 
                            step="0.01": Permite valores decimais (centavos)
                            Exemplo: 19.99, 150.50
                        -->
                    </div>
                    
                    <!-- CAMPO: Compatibilidade (opcional) -->
                    <div class="form-group">
                        <label for="compatibilidade">Compatibilidade</label>
                        <input type="text" id="compatibilidade" name="compatibilidade">
                        <!-- Sem 'required' = campo opcional -->
                    </div>
                </div>
                
                <!-- 
                    CAMPO DE DESCRI√á√ÉO
                    
                    Separado do grid por ocupar largura total.
                    Textarea permite texto longo com quebras de linha.
                -->
                <div class="form-group">
                    <label for="descricao">Descri√ß√£o</label>
                    <textarea id="descricao" name="descricao" placeholder="Descreva a autope√ßa..."></textarea>
                </div>
                
                <!-- BOT√ÉO DE SUBMISS√ÉO -->
                <button type="submit" class="btn">Adicionar Autope√ßa</button>
                <!-- 
                    type="submit": Envia o formul√°rio ao ser clicado
                    Dados s√£o enviados para a rota 'add_autopeca' no Flask
                -->
            </form>
        </div>

        <!-- 
            SE√á√ÉO DE BUSCA/PESQUISA
            
            Permite filtrar a lista de autope√ßas por nome ou n√∫mero de s√©rie.
            
            Funcionamento:
            1. Usu√°rio digita termo de busca
            2. Formul√°rio envia dados via GET (aparece na URL)
            3. Flask processa o termo e filtra os resultados
            4. P√°gina recarrega com resultados filtrados
            
            Por que GET ao inv√©s de POST?
            - Permite bookmark da busca
            - Hist√≥rico do navegador funciona
            - URL pode ser compartilhada
        -->
        <div class="search-section">
            <form method="GET" class="search-form">
                <!-- 
                    CAMPO DE BUSCA
                    
                    value="{{ search }}" preserva o termo buscado ap√≥s a pesquisa.
                    Vari√°vel 'search' vem do contexto Flask.
                -->
                <div class="search-input">
                    <label for="search">üîç Buscar por nome ou n√∫mero de s√©rie:</label>
                    <input type="text" id="search" name="search" value="{{ search }}" placeholder="Digite o nome da pe√ßa ou n√∫mero de s√©rie...">
                </div>
                
                <!-- BOT√ïES DE A√á√ÉO DA BUSCA -->
                <div class="search-buttons">
                    <!-- BOT√ÉO BUSCAR -->
                    <button type="submit" class="btn-search">
                        <span>Buscar</span>
                        <span>‚ö°</span> <!-- √çcone decorativo -->
                    </button>
                    
                    <!-- 
                        BOT√ÉO LIMPAR (condicional)
                        
                        S√≥ aparece quando h√° uma busca ativa.
                        A condi√ß√£o Jinja2 verifica se existe termo de busca.
                    -->
                    {% if search %}
                        <a href="{{ url_for('autopecas') }}" class="btn-clear">
                            <span>Limpar</span>
                            <span>‚úñÔ∏è</span>
                        </a>
                        <!-- 
                            Link para a mesma p√°gina sem par√¢metros de busca,
                            efetivamente "limpando" o filtro.
                        -->
                    {% endif %}
                </div>
            </form>
        </div>

        <!-- 
            LISTA DE AUTOPE√áAS
            
            Exibe todas as autope√ßas cadastradas em formato de tabela.
            Inclui informa√ß√µes de estoque e bot√µes para a√ß√µes.
        -->
        <div class="table-section">
            <!-- CABE√áALHO DA TABELA -->
            <div class="table-header">
                <h3>üìã Lista de Autope√ßas</h3>
                <!-- 
                    INDICADOR DE BUSCA ATIVA
                    
                    Mostra qual termo est√° sendo filtrado.
                    S√≥ aparece quando h√° busca ativa.
                -->
                {% if search %}
                    <p>Resultados para: "{{ search }}"</p>
                {% endif %}
            </div>

            <!-- 
                VERIFICA√á√ÉO DE DADOS
                
                Condi√ß√£o Jinja2 verifica se existem autope√ßas para exibir.
                Vari√°vel 'autopecas' vem do contexto Flask (lista de registros do banco).
            -->
            {% if autopecas %}
                <table class="table">
                    <!-- 
                        CABE√áALHO DA TABELA
                        
                        Define os t√≠tulos das colunas.
                        <thead> √© semanticamente correto e pode ser estilizado separadamente.
                    -->
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>N¬∫ S√©rie</th>
                            <th>Estoque</th>
                            <th>Estoque Min.</th>
                            <th>Pre√ßo</th>
                            <th>Status</th>      <!-- Indica se estoque est√° baixo -->
                            <th>A√ß√µes</th>       <!-- Bot√µes Editar/Excluir -->
                        </tr>
                    </thead>
                    <!-- 
                        CORPO DA TABELA
                        
                        <tbody> cont√©m as linhas de dados.
                        Loop Jinja2 itera sobre cada autope√ßa.
                    -->
                    <tbody>
                        <!-- 
                            LOOP ATRAV√âS DAS AUTOPE√áAS
                            
                            Loop Jinja2 itera sobre cada registro.
                            'autopecas' √© uma lista de objetos vindos do banco de dados.
                            'peca' representa uma autope√ßa individual a cada itera√ß√£o.
                        -->
                        {% for peca in autopecas %}
                        <tr>
                            <!-- 
                                COLUNA: NOME DA PE√áA
                                
                                Exibe nome principal em negrito.
                                Se houver descri√ß√£o, mostra pr√©via truncada.
                            -->
                            <td>
                                <strong>{{ peca.NOME_PECA }}</strong>
                                <!-- 
                                    DESCRI√á√ÉO TRUNCADA (condicional)
                                    
                                    Condi√ß√£o Jinja2: s√≥ mostra se existe descri√ß√£o
                                    [:50]: pega apenas os primeiros 50 caracteres
                                    |length > 50: filtro Jinja2 para verificar comprimento
                                    ...: adiciona retic√™ncias se texto foi truncado
                                -->
                                {% if peca.DESCRICAO %}
                                    <br><small style="color: #666;">{{ peca.DESCRICAO[:50] }}{% if peca.DESCRICAO|length > 50 %}...{% endif %}</small>
                                {% endif %}
                            </td>
                            
                            <!-- COLUNA: N√öMERO DE S√âRIE -->
                            <td>{{ peca.NUM_SERIAL }}</td>
                            
                            <!-- COLUNA: ESTOQUE ATUAL -->
                            <td>{{ peca.ESTOQUE }}</td>
                            
                            <!-- COLUNA: ESTOQUE M√çNIMO -->
                            <td>{{ peca.ESTOQUE_MINIMO }}</td>
                            
                            <!-- 
                                COLUNA: PRE√áO
                                
                                "%.2f"|format(): filtro Jinja2 para formatar n√∫mero
                                %.2f = n√∫mero decimal com 2 casas ap√≥s a v√≠rgula
                                Exemplo: 19.5 vira 19.50
                            -->
                            <td>R$ {{ "%.2f"|format(peca.PRECO) }}</td>
                            
                            <!-- 
                                COLUNA: STATUS DO ESTOQUE
                                
                                L√≥gica condicional para indicar situa√ß√£o do estoque:
                                - Se estoque atual <= estoque m√≠nimo: BAIXO (vermelho)
                                - Caso contr√°rio: OK (verde)
                            -->
                            <td>
                                {% if peca.ESTOQUE <= peca.ESTOQUE_MINIMO %}
                                    <span style="color: #dc3545; font-weight: bold;">‚ö†Ô∏è Baixo</span>
                                {% else %}
                                    <span style="color: #28a745; font-weight: bold;">‚úÖ OK</span>
                                {% endif %}
                            </td>
                            
                            <!-- 
                                COLUNA: BOT√ïES DE A√á√ÉO
                                
                                Cont√©m links para editar e excluir a autope√ßa.
                            -->
                            <td>
                                <div class="action-buttons">
                                    <!-- 
                                        BOT√ÉO EDITAR
                                        
                                        url_for('edit_autopeca', id=peca.ID_PECA):
                                        - Gera URL para rota 'edit_autopeca'
                                        - Passa ID da pe√ßa como par√¢metro
                                        - Exemplo: /edit_autopeca/123
                                    -->
                                    <a href="{{ url_for('edit_autopeca', id=peca.ID_PECA) }}" class="btn btn-sm btn-edit">‚úèÔ∏è Editar</a>
                                    
                                    <!-- 
                                        BOT√ÉO EXCLUIR
                                        
                                        onclick="return confirm(...)":
                                        - JavaScript para confirmar a√ß√£o
                                        - return false cancela o clique se usu√°rio cancelar
                                        - Previne exclus√µes acidentais
                                    -->
                                    <a href="{{ url_for('delete_autopeca', id=peca.ID_PECA) }}" 
                                       class="btn btn-sm btn-delete"
                                       onclick="return confirm('Tem certeza que deseja excluir esta autope√ßa?')">üóëÔ∏è Excluir</a>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            
            <!-- 
                ESTADO VAZIO
                
                Exibido quando n√£o h√° autope√ßas para mostrar.
                Bloco else corresponde √† condi√ß√£o l√° em cima.
            -->
            {% else %}
                <div class="empty-state">
                    <!-- 
                        MENSAGENS DIFERENTES PARA CONTEXTOS DIFERENTES
                        
                        Se h√° busca ativa mas sem resultados: sugere ver todas
                        Se n√£o h√° busca: indica que sistema est√° vazio
                    -->
                    {% if search %}
                        <p>Nenhuma autope√ßa encontrada com o termo "{{ search }}".</p>
                        <a href="{{ url_for('autopecas') }}" class="btn" style="margin-top: 1rem;">Ver todas as autope√ßas</a>
                    {% else %}
                        <p>Nenhuma autope√ßa cadastrada no sistema.</p>
                        <p>Utilize o formul√°rio acima para adicionar a primeira autope√ßa.</p>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>
    
    <!-- 
        ESTRUTURAS NECESS√ÅRIAS PARA REPRODUZIR ESTE PROJETO:
        
        1. BACKEND FLASK (app.py):
        - Rotas: dashboard, estoque, logout, add_autopeca, edit_autopeca, delete_autopeca
        - Conex√£o com banco de dados MySQL
        - Sistema de autentica√ß√£o/sess√£o
        - Flash messages para feedback
        
        2. BANCO DE DADOS:
        - Tabela de autope√ßas com campos: ID_PECA, NOME_PECA, NUM_SERIAL, ESTOQUE, ESTOQUE_MINIMO, PRECO, DESCRICAO
        - Tabela de usu√°rios para autentica√ß√£o
        
        3. DEPEND√äNCIAS PYTHON:
        - Flask
        - PyMySQL (ou mysql-connector-python)
        - Werkzeug (para hash de senhas)
        
        4. ESTRUTURA DE PASTAS:
        /projeto
        ‚îú‚îÄ‚îÄ app.py              (aplica√ß√£o Flask principal)
        ‚îú‚îÄ‚îÄ templates/
        ‚îÇ   ‚îú‚îÄ‚îÄ autopecas.html  (este arquivo)
        ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html
        ‚îÇ   ‚îú‚îÄ‚îÄ estoque.html
        ‚îÇ   ‚îú‚îÄ‚îÄ login.html
        ‚îÇ   ‚îî‚îÄ‚îÄ edit_autopeca.html
        
        5. CONFIGURA√á√ÉO DO SERVIDOR:
        - XAMPP ou MySQL Server rodando
        - Banco 'saep_db' criado
        - Tabelas criadas com estrutura correta
        
        COMANDOS PARA RODAR:
        1. pip install flask pymysql
        2. python app.py
        3. Acessar http://localhost:5000
    -->
</body>
</html>